# üöÄ DMB - Discord Modules Bot  
## –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –±—ã—Å—Ç—Ä–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ –¥–ª—è –≤–∞—à–µ–≥–æ Discord –±–æ—Ç–∞

---

## üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –°–ø–æ—Å–æ–± 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/scream-dev/discord-modules-bot.git
cd discord-modules-bot
```

### –°–ø–æ—Å–æ–± 2: –ü—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
[üì¶ –°–∫–∞—á–∞—Ç—å ZIP-–∞—Ä—Ö–∏–≤](https://github.com/scream-dev/discord-modules-bot/archive/refs/heads/main.zip)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:**
```python
python setup.py
```

2. **–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—Ä–æ—Å–∏—Ç —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫:**
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞
- –ö–∞–Ω–∞–ª –¥–ª—è –ª–æ–≥–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –±–æ—Ç–∞

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
```env
DISCORD_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
LOG_CHANNEL_ID=0
BOT_OWNER_ID=–≤–∞—à_id_–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
```
*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `setup.py` –ø—Ä–æ—â–µ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤.*

3. **–î–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:**
```python
python main.py
```

---

## üõ† –ö–æ–º–∞–Ω–¥—ã –≤–ª–∞–¥–µ–ª—å—Ü–∞
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `!add [—Ñ–∞–π–ª]` | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å | `!add my_module.py` |
| `!remove [—Ñ–∞–π–ª]` | –£–¥–∞–ª–∏—Ç—å –º–æ–¥—É–ª—å | `!remove old_module.py` |
| `!update` | –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –º–æ–¥—É–ª–∏ | `!update` |
| `!modules` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–¥—É–ª–µ–π | `!modules` |
| `!status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞ | `!status` |
| `!shutdown` | –í—ã–∫–ª—é—á–∏—Ç—å –±–æ—Ç–∞ | `!shutdown` |

---

## üìÅ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è
–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª–∞—Å—Å–æ–º, —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–º –æ—Ç `commands.Cog` –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- `__init__` ‚Äì –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- `setup` ‚Äì —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)
- –ö–æ–º–∞–Ω–¥—ã (`@commands.command()`)
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π (`@commands.Cog.listener()`)

**–ü—Ä–∏–º–µ—Ä –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è:**
```python
import discord
from discord.ext import commands

class MyCog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot  # –ü–µ—Ä–µ–¥–∞–µ–º –±–æ—Ç–∞ –≤ –º–æ–¥—É–ª—å
    
    @commands.command(name="test")
    async def test_command(self, ctx):
        await ctx.send("–¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç!")

    @commands.Cog.listener()
    async def on_message(self, message):
        if message.author.bot:
            return
        print(f"–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ: {message.content}")

async def setup(bot):
    await bot.add_cog(MyCog(bot))  # –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
```

---

## üîß –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
### **(1) –ö–ª–∞—Å—Å –º–æ–¥—É–ª—è**
- –î–æ–ª–∂–µ–Ω –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç `commands.Cog`.
- –í `__init__` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `bot` –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –µ–≥–æ –≤ `self.bot`.

### **(2) –§—É–Ω–∫—Ü–∏—è `setup(bot)`**
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è.
- –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π (`async def`).
- –î–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å `await bot.add_cog(MyCog(bot))`.

### **(3) –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Å–æ–±—ã—Ç–∏—è –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å `try-except` —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.
- –ü—Ä–∏–º–µ—Ä:
```python
@commands.command(name="ping")
async def ping(self, ctx):
    try:
        await ctx.send("Pong!")
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ ping: {e}")
```

---

## üìã –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–∞–≤–∏–ª–∞
### **(1) –ò–º–ø–æ—Ä—Ç—ã**
- –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (`discord`, `asyncio` –∏ –¥—Ä.) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞.
- –ï—Å–ª–∏ –º–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `.env`, –¥–æ–±–∞–≤—å—Ç–µ:
```python
from dotenv import load_dotenv
load_dotenv()
```

### **(2) –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**
- –ï—Å–ª–∏ –º–æ–¥—É–ª—å —Ç—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (ID –∫–∞–Ω–∞–ª–æ–≤, —Ç–æ–∫–µ–Ω—ã), –≤—ã–Ω–æ—Å–∏—Ç–µ –∏—Ö –≤ **–≤–µ—Ä—Ö–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**:
```python
class MyCog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.ADMIN_ID = 123456789  # –ü—Ä–∏–º–µ—Ä ID –∞–¥–º–∏–Ω–∞
        self.LOG_CHANNEL_ID = 987654321  # –ü—Ä–∏–º–µ—Ä ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ª–æ–≥–æ–≤
```

### **(3) –ö–æ–º–∞–Ω–¥—ã (`@commands.command`)**
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–µ—Ç–æ–¥–∞–º–∏ –∫–ª–∞—Å—Å–∞.
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `name="–Ω–∞–∑–≤–∞–Ω–∏–µ"`, –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∏–º—è –∫–æ–º–∞–Ω–¥—ã.
- –ü—Ä–∏–º–µ—Ä:
```python
@commands.command(name="hello")
async def hello(self, ctx):
    await ctx.send(f"–ü—Ä–∏–≤–µ—Ç, {ctx.author.mention}!")
```

### **(4) –°–æ–±—ã—Ç–∏—è (`@commands.Cog.listener`)**
- –ï—Å–ª–∏ –º–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è/–∏–≤–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```python
@commands.Cog.listener()
async def on_message(self, message):
    if message.author.bot:
        return
    print(f"–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: {message.content}")
```

### **(5) –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**
- –ï—Å–ª–∏ –º–æ–¥—É–ª—é –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ (–ë–î, –∫–æ–Ω—Ñ–∏–≥–∏), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```python
async def cog_load(self):
    """–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥—É–ª—è"""
    print("–ú–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω!")
    self.data = await self.load_data()  # –ü—Ä–∏–º–µ—Ä –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
```

---

## ‚ùå –ß—Ç–æ –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å
‚ùå **–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–æ—Ç–∞**  
–í–º–µ—Å—Ç–æ:
```python
bot = commands.Bot(...)  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```python
class MyCog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot  # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
```

‚ùå **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `on_message` –±–µ–∑ `@commands.Cog.listener()`**  
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```python
async def on_message(message):  # ‚ùå –ù–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
```
–ü—Ä–∞–≤–∏–ª—å–Ω–æ:
```python
@commands.Cog.listener()
async def on_message(self, message):  # ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
```

‚ùå **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ `await` –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö**  
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```python
@commands.command()
def test(ctx):  # ‚ùå –ë–µ–∑ async/await
    ctx.send("Test")  # ‚ùå –ë–µ–∑ await
```
–ü—Ä–∞–≤–∏–ª—å–Ω–æ:
```python
@commands.command()
async def test(self, ctx):  # ‚úÖ
    await ctx.send("Test")  # ‚úÖ
```

---

## üìù –ü—Ä–∏–º–µ—Ä –≥–æ—Ç–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è (—à–∞–±–ª–æ–Ω)
```python
import discord
from discord.ext import commands
import asyncio

class ExampleCog(commands.Cog):
    def __init__(self, bot):
        self.bot = bot
        self.settings = {
            "PREFIX": "!",
            "ADMIN_ROLE": "Admin"
        }
    
    async def cog_load(self):
        print(f"–ú–æ–¥—É–ª—å {self.__class__.__name__} –∑–∞–≥—Ä—É–∂–µ–Ω!")
    
    @commands.command(name="greet")
    async def greet_user(self, ctx, user: discord.Member):
        try:
            await ctx.send(f"–ü—Ä–∏–≤–µ—Ç, {user.mention}!")
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞: {e}")
    
    @commands.Cog.listener()
    async def on_member_join(self, member):
        print(f"{member.name} –∑–∞—à–µ–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä!")

async def setup(bot):
    await bot.add_cog(ExampleCog(bot))
```

---

## üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Python. –í—Å–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `bot.log` –∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.
–§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤:
```
2024-01-01 12:00:00 - bot - INFO - –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ Discord!
2024-01-01 12:00:01 - bot - INFO - –ú–æ–¥—É–ª—å example.py —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω
```

---

## üéØ –ò—Ç–æ–≥
1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ö–ª–∞—Å—Å + `setup(bot)`.
2. **–ö–æ–º–∞–Ω–¥—ã**: `@commands.command()`.
3. **–°–æ–±—ã—Ç–∏—è**: `@commands.Cog.listener()`.
4. **–û—à–∏–±–∫–∏**: –í—Å–µ–≥–¥–∞ `try-except`.
5. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Å `async/await`.
6. **–ö–æ–Ω—Ñ–∏–≥–∏**: –í—ã–Ω–æ—Å–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `__init__`.
